{
    "BIDSModelVersion": "1.0.0",
    "Name": "SPM_FaceRepetition",
    "Description": "Look at a) main effect of seeing task, b) see if repetition affects BOLD response, c) effect of motion",
    "Input": {
            "task": "facerepetition"
    },
    "Nodes": [
        {
            "Level": "Run",
            "Transformations": {
                "Transformer": "TBD",
                "Instructions": [
                   {
                      "Name": "AND",
                      "Input": [
                         "face_type==famous",
                         "repetition_type==1"
                      ],
                      "Output": [
                         "famous_1"
                      ]
                   },
                   {
                      "Name": "AND",
                      "Input": [
                         "face_type==famous",
                         "repetition_type==2"
                      ],
                      "Output": [
                         "famous_2"
                      ]
                   },
                   {
                      "Name": "AND",
                      "Input": [
                         "face_type==unfamiliar",
                         "repetition_type==famous"
                      ],
                      "Output": [
                         "unfamiliar_1"
                      ]
                   },
                   {
                      "Name": "AND",
                      "Input": [
                         "face_type==unfamiliar",
                         "repetition_type==2"
                      ],
                      "Output": [
                         "unfamiliar_2"
                      ]
                   },
                   {
                      "Name": "Convolve",
                      "Model": "spm",
                      "Input": [
                         "famous_1",
                         "unfamiliar_1",
                         "famous_2",
                         "unfamiliar_2"
                      ]
                   }
                ]
             },
            "Model": {
                "X": [
                    "famous_1",
                    "unfamiliar_1",
                    "famous_2",
                    "unfamiliar_2",
                    "trans_*",
                    "rot_*"
                ],
                "ModelType": "glm",
                "Options": {
                    "high_pass_filter_cutoff_secs": 128
                },
                "HRF": {
                    "Variables": [
                        "trial_type.listening"
                    ],
                    "Model": "DoubleGamma"
                },
                "Software": {
                    "SPM": {
                        "HRF_type": "informed_basis_set",
                        "whitening": "AR(1)"
                    }
                }
            },
            "Contrasts": [
                {
                    "Name": "Positive effect of condition_1",
                    "ConditionList": [
                        "unfamiliar_1_bf1",
                        "unfamiliar_2_bf1",
                        "famous_1_bf1",
                        "famous_2_bf1"
                    ],
                    "Weights": [
                        1,
                        1,
                        1,
                        1
                    ],
                    "Type": "t"
                },
                {
                    "Name": "Main effect of Repetition",
                    "ConditionList": [
                        "unfamiliar_1_bf1",
                        "unfamiliar_1_bf2",
                        "unfamiliar_1_bf3",
                        "unfamiliar_2_bf1",
                        "unfamiliar_2_bf2",
                        "unfamiliar_2_bf3",
                        "famous_1_bf1",
                        "famous_1_bf2",
                        "famous_1_bf3",
                        "famous_2_bf3",
                        "famous_2_bf2",
                        "famous_2_bf3"
                    ],
                    "Weights": [
                        [1,0,0, -1,0,0, 1,0,0, -1,0,0],
                        [0,1,0, 0,-1,0, 0,1,0, 0,-1,0],
                        [0,0,1, 0,0,-1, 0,0,1, 0,0,-1]
                    ],
                    "Type": "F"
                },
                {
                    "Name": "Movement-related effects",
                    "ConditionList": [
                        "trans_x",
                        "trans_y",
                        "trans_z",
                        "rot_x",
                        "rot_y",
                        "rot_z"
                    ],
                    "Weights": [
                        [1,0,0,0,0,0],
                        [0,1,0,0,0,0],
                        [0,0,1,0,0,0],
                        [0,0,0,1,0,0],
                        [0,0,0,0,1,0],
                        [0,0,0,0,0,1]
                    ],
                    "Type": "F"
                }                
            ]
        }
    ]
}

